flowchart TD
    A([stdioSerialInit]) --> B["Serial.begin(baudRate)"]
    B --> C{"Wait for Serial\nto be ready"}
    C -- "Not ready" --> C
    C -- "Ready" --> D["fdev_setup_stream(&serialStream,\nserialPutChar, serialGetChar,\n_FDEV_SETUP_RW)"]
    D --> E["stdout = &serialStream"]
    E --> F["stdin = &serialStream"]
    F --> G([Return])

    style A fill:#a5d6a7,stroke:#2e7d32,color:#000000
    style B fill:#bbdefb,stroke:#1565c0,color:#000000
    style C fill:#fff59d,stroke:#f9a825,color:#000000
    style D fill:#bbdefb,stroke:#1565c0,color:#000000
    style E fill:#bbdefb,stroke:#1565c0,color:#000000
    style F fill:#bbdefb,stroke:#1565c0,color:#000000
    style G fill:#a5d6a7,stroke:#2e7d32,color:#000000
